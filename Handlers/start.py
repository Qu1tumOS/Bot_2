from aiogram import Router, F
from aiogram.types import CallbackQuery, Message
from aiogram.filters import CommandStart

from Keyboard.inline_creator import create_inline_kb
from DataBase.dao import User, Lesson
from datetime import date
from Parser.parser import group_to_group_gict, url_groups

test = {'111': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '131': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[' - ', ' - ', ' - '],
          ['Информац.обеспечение ПД', '121', 'Кудряшов И.В.']],
         [[' - ', ' - ', ' - '],
          ['Информац.обеспечение ПД', '121', 'Кудряшов И.В.']],
         [['Информац.обеспечение ПД', '121', 'Кудряшов И.В.'],
          ['Живопись с основами цветоведения', '411', 'Антропова Е.Е.']],
         [['Ин.яз', '315', 'Петрова М.Д.'],
          ['Живопись с основами цветоведения', '411', 'Антропова Е.Е.']],
         [['Живопись с основами цветоведения', '411', 'Антропова Е.Е.'],
          [' - ', ' - ', ' - ']]],
 '211': [[['МДК01.06 Тема 6.1', 'Чит.зал', 'Криваткина Г.А.'],
          ['МДК01.06 Тема 6.1', 'Ч/з', 'Круглова Е.С.']],
         [['МДК01.06 Тема 6.1', 'Чит.зал', 'Криваткина Г.А.'],
          ['МДК01.06 Тема 6.1', 'Ч/з', 'Круглова Е.С.']],
         [[['Инжен.сети и обор.зд.', '115', 'Амирсаидов Е.А.'],
           ['Инжен.сети и обор.зд.', '115', 'Амирсаидов Е.А.']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '212': [[[['Физ-ра', '100', 'Тюрин А.В.'], ['Физ-ра', '100', 'Тюрин А.В.']]],
         [[['Ин.яз', '213', 'Котова Т.А.'], ['Ин.яз', '213', 'Котова Т.А.']]],
         [[['МДК.02.01 Тема 1.3', '415', 'Круглова Е.С.'],
           ['МДК.02.01 Тема 1.3', '415', 'Круглова Е.С.']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '217': [[[['История Арх', '407', 'Туманина Н.И.'],
           ['История Арх', '407', 'Туманина Н.И.']]],
         [[['Инжен.сети и обор.зд.', '115', 'Амирсаидов Е.А.'],
           ['Инжен.сети и обор.зд.', '115', 'Амирсаидов Е.А.']]],
         [['МДК01.06 Тема 6.1', 'Ч/з', 'Корнева О.И.'],
          ['МДК01.06 Тема 6.1', 'Чит.зал', 'Криваткина Г.А.']],
         [['МДК01.06 Тема 6.1', 'Ч/з', 'Корнева О.И.'],
          ['МДК01.06 Тема 6.1', 'Чит.зал', 'Криваткина Г.А.']],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '221': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[['Осн.Филос.', '409', 'Кутасова Н.Н.'],
           ['Осн.Филос.', '409', 'Кутасова Н.Н.']]],
         [['МДК.01.03 Тема 1.7', '415', 'Туманина Н.И.'],
          ['МДК.01.03 Тема 1.7', '415/1', 'Круглова Е.С.']],
         [['МДК.01.03 Тема 1.7', '415', 'Туманина Н.И.'],
          ['МДК.01.03 Тема 1.7', '415/1', 'Круглова Е.С.']],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '222': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [['Рисунок', '411', 'Туманина Н.И.'],
          ['Рисунок', '411/1', 'Громова И.В.']],
         [['Рисунок', '411', 'Туманина Н.И.'],
          ['Рисунок', ' - ', 'Громова И.В.']],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '227': [[['МДК.01.03 Тема 1.7', '415/1', 'Корнева О.И.'],
          ['МДК.01.03 Тема 1.7', '415', 'Зыкова Т.А.']],
         [['МДК.01.03 Тема 1.7', '415/1', 'Корнева О.И.'],
          ['МДК.01.03 Тема 1.7', '415', 'Зыкова Т.А.']],
         [[['Физ-ра', ' - ', 'Тюрин А.В.'], ['Физ-ра', ' - ', 'Тюрин А.В.']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '231': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[['Инф-ка', '119', 'Ледрова М.В.'],
           ['Инф-ка', '119', 'Ледрова М.В.']]],
         [[['Прикладная математика', '316', 'Малиновский А.Г.'],
           ['Прикладная математика', '316', 'Малиновский А.Г.']]],
         [[['История', '409', 'Кутасова Н.Н.'],
           ['История', '409', 'Кутасова Н.Н.']]],
         [['МДК.01.02 Тема 2.1', '407', 'Наумова О.И.'],
          ['МДК.01.02 Тема 2.1', '407/1', 'Громова И.В.']],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '237': [[[['Инф-ка', '119', 'Ледрова М.В.'],
           ['Инф-ка', '119', 'Ледрова М.В.']]],
         [[['Прикладная математика', '316', 'Малиновский А.Г.'],
           ['Прикладная математика', '316', 'Малиновский А.Г.']]],
         [[['МДК.03.01', '410', 'Телегина И.Г.'],
           ['МДК.03.01', '410', 'Телегина И.Г.']]],
         [['МДК.01.02 Тема 2.1', '407/1', 'Наумова О.И.'],
          ['МДК.01.02 Тема 2.1', '407', 'Громова И.В.']],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '241': [[[['История', '200', 'Сидоров А.Н.'],
           ['История', '200', 'Сидоров А.Н.']]],
         [[['Биология', '319', 'Марьина У.М.'],
           ['Биология', '319', 'Марьина У.М.']]],
         [[['Инф-ка', '215', 'Кузнецова Н.А.'],
           ['Инф-ка', '215', 'Кузнецова Н.А.']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '242': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[['Русс.яз', '304', 'Миронова Ю.И.'],
           ['Русс.яз', '304', 'Миронова Ю.И.']]],
         [[['Биология', '319', 'Марьина У.М.'],
           ['Биология', '319', 'Марьина У.М.']]],
         [['Инф-ка', '215', 'Кузнецова Н.А.'],
          ['Ин. яз.', '315', 'Котова Т.А.']],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '247': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[['Русс.яз', '304', 'Миронова Ю.И.'],
           ['Русс.яз', '304', 'Миронова Ю.И.']]],
         [[['Математика', '316', 'Малиновский А.Г.'],
           ['Математика', '316', 'Малиновский А.Г.']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '311': [[[['Учебная практика', '307-2к', 'Ушакова Л.Н.'],
           ['Учебная практика', '307-2к', 'Ушакова Л.Н.']]],
         [[['Учебная практика', '307-2к', 'Ушакова Л.Н.'],
           ['Учебная практика', '307-2к', 'Ушакова Л.Н.']]],
         [[['Учебная практика', '307-2к', 'Ушакова Л.Н.'],
           ['Учебная практика', '307-2к', 'Ушакова Л.Н.']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '312': [[[['МДК.03.01 Тема 3.1', ' - ', 'Лысова Е.В.'],
           ['МДК.03.01 Тема 3.1', ' - ', 'Лысова Е.В.']]],
         [[['МДК.03.01 Тема 3.1', ' - ', 'Лысова Е.В.'],
           ['МДК.03.01 Тема 3.1', ' - ', 'Лысова Е.В.']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '313': [[[['МДК.01.02 Тема 3.2 КП', '314', 'Пономарева М.А.'],
           ['МДК.01.02 Тема 3.2 КП', '314', 'Пономарева М.А.']]],
         [[['МДК.01.02 Тема 3.2 КП', '314', 'Пономарева М.А.'],
           ['МДК.01.02 Тема 3.2 КП', '314', 'Пономарева М.А.']]],
         [[['МДК01.02 Тема 3.2', '314', 'Пономарева М.А.'],
           ['МДК01.02 Тема 3.2', '314', 'Пономарева М.А.']]],
         [[['МДК01.02 Тема 3.2', '314', 'Пономарева М.А.'],
           ['МДК01.02 Тема 3.2', '314', 'Пономарева М.А.']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '314': [[[['Эконом.отрасли', '124', 'Трофимов  А.В.'],
           ['Эконом.отрасли', '124', 'Трофимов  А.В.']]],
         [[['Эконом.отрасли', '124', 'Трофимов  А.В.'],
           ['Эконом.отрасли', '124', 'Трофимов  А.В.']]],
         [[['МДК01.02 Тема 3.2', '124', 'Коробкова Д.А'],
           ['МДК01.02 Тема 3.2', '124', 'Коробкова Д.А']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '315': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[['МДК.04.02 Тема.2.1', '405', 'Тимонина М.Е.'],
           ['МДК.04.02 Тема.2.1', '405', 'Тимонина М.Е.']]],
         [[['МДК.03.01 Тема 2.2', '202', 'Якунина Е.Е.'],
           ['МДК.03.01 Тема 2.2', '202', 'Якунина Е.Е.']]],
         [[['Ин.яз', '115', 'Орехова И.В.'], ['Ин.яз', '115', 'Орехова И.В.']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '317': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[' - ', ' - ', ' - '],
          ['МДК.01.02 Тема 3.2 КП', '317', 'Друбич А.В.']],
         [['МДК.01.02 Тема 3.2 КП', '317', 'Друбич А.В.'],
          ['Эконом.отрасли КП', '124', 'Трофимов  А.В.']],
         [[['Эконом.отрасли', '124', 'Трофимов  А.В.'],
           ['Эконом.отрасли', '124', 'Трофимов  А.В.']]],
         [['Эконом.отрасли КП', '124', 'Трофимов  А.В.'],
          [' - ', ' - ', ' - ']]],
 '321': [[[' - ', ' - ', ' - '],
          ['МДК.01.01 Тема 1.3КП', '406', 'Сиухина О.Г.']],
         [['Инф.тех. в ПД', '218', 'Максудова Н.В.'],
          ['МДК.01.01 Тема 1.3КП', '406', 'Сиухина О.Г.']],
         [[['МДК.01.01 Тема 2.1', '406', 'Сиухина О.Г.'],
           ['МДК.01.01 Тема 2.1', '406', 'Сиухина О.Г.']]],
         [['МДК.01.01 Тема 1.3КП', '406', 'Сиухина О.Г.'],
          ['Инф.тех. в ПД', '218', 'Максудова Н.В.']],
         [['МДК.01.01 Тема 1.3КП', '406', 'Сиухина О.Г.'],
          [' - ', ' - ', ' - ']],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '322': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[['Экологические основы', '118', 'Андронова Е.В.'],
           ['Экологические основы', '118', 'Андронова Е.В.']]],
         [[['МДК.02.01 Тема 1.4', '416', 'Ванина Н.В.'],
           ['МДК.02.01 Тема 1.4', '416', 'Ванина Н.В.']]],
         [[['МДК.02.01 Тема 1.4', '416', 'Ванина Н.В.'],
           ['МДК.02.01 Тема 1.4', '416', 'Ванина Н.В.']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '323': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[['Электротех и электроника', '213', 'Гаврилова А.А.'],
           ['Электротех и электроника', '213', 'Гаврилова А.А.']]],
         [[['Электротех и электроника', '213', 'Гаврилова А.А.'],
           ['Электротех и электроника', '213', 'Гаврилова А.А.']]]],
 '324': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[['Учебная практика', '307-2к', 'Ушакова Л.Н.'],
           ['Учебная практика', '307-2к', 'Ушакова Л.Н.']]],
         [[['Учебная практика', '307-2к', 'Ушакова Л.Н.'],
           ['Учебная практика', '307-2к', 'Ушакова Л.Н.']]],
         [[['Учебная практика', '307-2к', 'Ушакова Л.Н.'],
           ['Учебная практика', '307-2к', 'Ушакова Л.Н.']]]],
 '325': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[['Электротех и электроника', '213', 'Гаврилова А.А.'],
           ['Электротех и электроника', '213', 'Гаврилова А.А.']]],
         [['Инф.тех. в ПД', '121', 'Максудова Н.В.'],
          ['МДК.01.01 Тема 1.3КП', '405', 'Тимонина М.Е.']],
         [[' - ', ' - ', ' - '], ['Инф.тех. в ПД', '121', 'Максудова Н.В.']]],
 '327': [[[['МДК.01.01 Тема 1.1', '115', 'Амирсаидов Е.А.'],
           ['МДК.01.01 Тема 1.1', '115', 'Амирсаидов Е.А.']]],
         [[['Ин.яз', '315', 'Петрова М.Д.'], ['Ин.яз', '315', 'Петрова М.Д.']]],
         [[['Экологические основы', '118', 'Андронова Е.В.'],
           ['Экологические основы', '118', 'Андронова Е.В.']]],
         [['МДК.01.01 Тема 1.3КП', '405', 'Тимонина М.Е.'],
          [' - ', ' - ', ' - ']],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '331': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[['МДК.07.01', ' - ', 'Лысова Е.В.'],
           ['МДК.07.01', ' - ', 'Лысова Е.В.']]],
         [[['МДК.07.01', ' - ', 'Лысова Е.В.'],
           ['МДК.07.01', ' - ', 'Лысова Е.В.']]]],
 '332': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '333': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[' - ', ' - ', ' - '], ['МДК.01.01 Тема 1.2', '101', 'Конкина И.В.']],
         [['МДК.01.01 Тема 1.2', '101', 'Конкина И.В.'],
          ['Инж.графика', '414', 'Астахова Г.Г.']],
         [['МДК.01.01 Тема 1.2', '101', 'Конкина И.В.'],
          ['Инж.графика', '414', 'Астахова Г.Г.']],
         [['Инж.графика', '414', 'Астахова Г.Г.'], [' - ', ' - ', ' - ']],
         [['Инж.графика', '414', 'Астахова Г.Г.'], [' - ', ' - ', ' - ']]],
 '334': [[['Инж.графика', '413', 'Максудова Н.В.'],
          ['Инж.графика', '414', 'Астахова Г.Г.']],
         [['Инф-ка', '122', 'Борщикова Е.Н.'],
          ['Инж.графика', '414', 'Астахова Г.Г.']],
         [[['Основы электротехники', '213', 'Гаврилова А.А.'],
           ['Основы электротехники', '213', 'Гаврилова А.А.']]],
         [[['Тех.мех.', '319', 'Окомелков А.К.'],
           ['Тех.мех.', '319', 'Окомелков А.К.']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '335': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [['Инф-ка', '122', 'Борщикова Е.Н.'], [' - ', ' - ', ' - ']],
         [[['Математика конс', '302', 'Щелокова М.А.'],
           ['Математика конс', '302', 'Щелокова М.А.']]],
         [['Физ-ра', '100/2', 'Тюрин А.В.'],
          ['Инф-ка', '122', 'Борщикова Е.Н.']],
         [[' - ', ' - ', ' - '], ['Ин.яз в проф.д-ти', '315', 'Петрова М.Д.']]],
 '337': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [['Ин.яз в проф.д-ти', '212', 'Орехова И.В.'],
          ['Инф-ка', '122', 'Борщикова Е.Н.']],
         [[['Тех.мех.', '319', 'Окомелков А.К.'],
           ['Тех.мех.', '319', 'Окомелков А.К.']]],
         [[['Тех.мех.', '319', 'Окомелков А.К.'],
           ['Тех.мех.', '319', 'Окомелков А.К.']]]],
 '341': [[[['Русс.яз', '318', 'Ерилина Т.А.'],
           ['Русс.яз', '318', 'Ерилина Т.А.']]],
         [[['История', '200', 'Сидоров А.Н.'],
           ['История', '200', 'Сидоров А.Н.']]],
         [['Физ-ра', '100/2', 'Стругов К.А.'],
          ['Ин.яз.', '315', 'Петрова М.Д.']],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '342': [[[['Обществознание', '202', 'Якунина Е.Е.'],
           ['Обществознание', '202', 'Якунина Е.Е.']]],
         [[['Физика', '300', 'Корюков И.В.'],
           ['Физика', '300', 'Корюков И.В.']]],
         [[' - ', ' - ', ' - '], ['Физика', '300', 'Корюков И.В.']],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '343': [[[['География', '118', 'Андронова Е.В.'],
           ['География', '118', 'Андронова Е.В.']]],
         [[['Математика', '302', 'Щелокова М.А.'],
           ['Математика', '302', 'Щелокова М.А.']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '344': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[['Русс.яз', '318', 'Ерилина Т.А.'],
           ['Русс.яз', '318', 'Ерилина Т.А.']]],
         [[['Лит-ра', '318', 'Ерилина Т.А.'],
           ['Лит-ра', '318', 'Ерилина Т.А.']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '345': [[[['Математика', '302', 'Щелокова М.А.'],
           ['Математика', '302', 'Щелокова М.А.']]],
         [[['Русс.яз', '318', 'Ерилина Т.А.'],
           ['Русс.яз', '318', 'Ерилина Т.А.']]],
         [['Ин.яз.', '413', 'Котова Т.А.'], ['Ин.яз.', '208', 'Малыгина Д.А.']],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '347': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[['История', '301-2к', 'Сиволапова И.Г.'],
           ['История', '301-2к', 'Сиволапова И.Г.']]],
         [[['История', '301-2к', 'Сиволапова И.Г.'],
           ['История', '301-2к', 'Сиволапова И.Г.']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '411': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '412': [[[' - ', ' - ', ' - '],
          ['МДК.03.02 Тема 2.1 КП', ' - ', 'Корягин М.В.']],
         [[['МДК.03.02 Тема 2.1', ' - ', 'Корягин М.В.'],
           ['МДК.03.02 Тема 2.1', ' - ', 'Корягин М.В.']]],
         [[['МДК.03.02 Тема 2.1', ' - ', 'Корягин М.В.'],
           ['МДК.03.02 Тема 2.1', ' - ', 'Корягин М.В.']]],
         [['МДК.03.02 Тема 2.1 КП', ' - ', 'Корягин М.В.'],
          [' - ', ' - ', ' - ']],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '421': [[[['МДК.03.01 Тема 2.1', '310', 'Волков С.В.'],
           ['МДК.03.01 Тема 2.1', '310', 'Волков С.В.']]],
         [[['Психология общения', '317', 'Друбич А.В.'],
           ['Психология общения', '317', 'Друбич А.В.']]],
         [[['Инф.тех. в ПД', '218', 'Максудова Н.В.'],
           ['Инф.тех. в ПД', '218', 'Максудова Н.В.']]],
         [[['Безоп.жизнед.', '118', 'Горбатовский В.М.'],
           ['Безоп.жизнед.', '118', 'Горбатовский В.М.']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '431': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [['Физ.культура', '100', 'Смольянинов Ю.М.'],
          ['Физ.культура', '100/2', 'Тюрин А.В.']],
         [[['МДК.01.01', '217', 'Батков Е.Н.'],
           ['МДК.01.01', '217', 'Батков Е.Н.']]],
         [[['МДК.01.01', '217', 'Батков Е.Н.'],
           ['МДК.01.01', '217', 'Батков Е.Н.']]],
         [[' - ', ' - ', ' - '], ['Ин.яз.в проф.д-ти', '208', 'Котова Т.А.']],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '441': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[['Физика', '312', 'Евстратова З.А.'],
           ['Физика', '312', 'Евстратова З.А.']]],
         [[['Математика', '302', 'Щелокова М.А.'],
           ['Математика', '302', 'Щелокова М.А.']]],
         [['Физ-ра', '100/1', 'Стругов К.А.'],
          ['Физ-ра', '100/2', 'Смольянинов Ю.М.']],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '521': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[['Физ-ра', '100', 'Тюрин А.В.'], ['Физ-ра', '100', 'Тюрин А.В.']]],
         [[['Аналит.химия', '402', 'Суханова Л.А.'],
           ['Аналит.химия', '402', 'Суханова Л.А.']]],
         [[['Аналит.химия', '402', 'Суханова Л.А.'],
           ['Аналит.химия', '402', 'Суханова Л.А.']]]],
 '541': [[[['Русс.яз', '304', 'Миронова Ю.И.'],
           ['Русс.яз', '304', 'Миронова Ю.И.']]],
         [[['Инф-ка', '215', 'Кузнецова Н.А.'],
           ['Инф-ка', '215', 'Кузнецова Н.А.']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '611': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[['Правов.обеспеч. ПД', '202', 'Якунина Е.Е.'],
           ['Правов.обеспеч. ПД', '202', 'Якунина Е.Е.']]],
         [[['Правов.обеспеч. ПД', '202', 'Якунина Е.Е.'],
           ['Правов.обеспеч. ПД', '202', 'Якунина Е.Е.']]],
         [[['Физ-ра', '100/4', 'Панов В.А.'],
           ['Физ-ра', '100/4', 'Панов В.А.']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '621': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[['Физ-ра', '100', 'Панов В.А.'], ['Физ-ра', '100', 'Панов В.А.']]],
         [[['Ин. яз.', '208', 'Малыгина Д.А.'],
           ['Ин. яз.', '208', 'Малыгина Д.А.']]],
         [[['Осн.Филос.', '409', 'Кутасова Н.Н.'],
           ['Осн.Филос.', '409', 'Кутасова Н.Н.']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '622': [[[['Осн.дист.зонд-ия', '306-2к', 'Лизякина Д.И.'],
           ['Осн.дист.зонд-ия', '306-2к', 'Лизякина Д.И.']]],
         [[['Осн.дист.зонд-ия', '306-2к', 'Лизякина Д.И.'],
           ['Осн.дист.зонд-ия', '306-2к', 'Лизякина Д.И.']]],
         [[['Осн.дист.зонд-ия', '306-2к', 'Лизякина Д.И.'],
           ['Осн.дист.зонд-ия', '306-2к', 'Лизякина Д.И.']]],
         [[['Осн.дист.зонд-ия', '306-2к', 'Лизякина Д.И.'],
           ['Осн.дист.зонд-ия', '306-2к', 'Лизякина Д.И.']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '631': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[['Картограф.черчение', '217', 'Кудряшов И.В.'],
           ['Картограф.черчение', '217', 'Кудряшов И.В.']]],
         [[['Картограф.черчение', '217', 'Кудряшов И.В.'],
           ['Картограф.черчение', '217', 'Кудряшов И.В.']]]],
 '632': [[[['Картограф.черчение', '121', 'Кудряшов И.В.'],
           ['Картограф.черчение', '121', 'Кудряшов И.В.']]],
         [[['История России', '409', 'Кутасова Н.Н.'],
           ['История России', '409', 'Кутасова Н.Н.']]],
         [[['Физ-ра', '100/1', 'Смольянинов Ю.М.'],
           ['Физ-ра', '100/1', 'Смольянинов Ю.М.']]],
         [[['Математ.методы решения', '200', 'Колмогорцева И.А.'],
           ['Математ.методы решения', '200', 'Колмогорцева И.А.']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '641': [[[['Русс.яз', '308-2к', 'Чудова С.О.'],
           ['Русс.яз', '308-2к', 'Чудова С.О.']]],
         [[['Русс.яз', '308-2к', 'Чудова С.О.'],
           ['Русс.яз', '308-2к', 'Чудова С.О.']]],
         [[['Лит-ра', '308-2к', 'Чудова С.О.'],
           ['Лит-ра', '308-2к', 'Чудова С.О.']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '642': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[['Математика', '407', 'Колмогорцева И.А.'],
           ['Математика', '407', 'Колмогорцева И.А.']]],
         [[['Математика', '407', 'Колмогорцева И.А.'],
           ['Математика', '407', 'Колмогорцева И.А.']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '711': [[[['МДК.03.01', '202-2к', 'Мухранова Н.С.'],
           ['МДК.03.01', '202-2к', 'Мухранова Н.С.']]],
         [[['МДК.03.01', '202-2к', 'Мухранова Н.С.'],
           ['МДК.03.01', '202-2к', 'Мухранова Н.С.']]],
         [[['МДК.03.01', '202-2к', 'Мухранова Н.С.'],
           ['МДК.03.01', '202-2к', 'Мухранова Н.С.']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '721': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [['Ин.яз в проф.д-ти', '212-2к', 'Плечкова А.В.'],
          [' - ', ' - ', ' - ']],
         [['Ин.яз в проф.д-ти', '212-2к', 'Плечкова А.В.'],
          [' - ', ' - ', ' - ']],
         [['МДК.04.01 КП', '202-2к', 'Мухранова Н.С.'],
          ['Ин.яз в проф.д-ти', '212-2к', 'Плечкова А.В.']],
         [[' - ', ' - ', ' - '], ['МДК.04.02', '212-2к', 'Плечкова А.В.']],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '731': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[['Психология делового общения', '317', 'Друбич А.В.'],
           ['Психология делового общения', '317', 'Друбич А.В.']]],
         [[['История России', '409', 'Кутасова Н.Н.'],
           ['История России', '409', 'Кутасова Н.Н.']]]],
 '741': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[['География', '118а', 'Зеленько Д.О.'],
           ['География', '118а', 'Зеленько Д.О.']]],
         [[['География', '118а', 'Зеленько Д.О.'],
           ['География', '118а', 'Зеленько Д.О.']]],
         [[['Физика', '400', 'Морунова С.С.'],
           ['Физика', '400', 'Морунова С.С.']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '811': [[[['МДК.01.02', '212', 'Конкина И.В.'],
           ['МДК.01.02', '212', 'Конкина И.В.']]],
         [[['Ин.яз', '212', 'Орехова И.В.'], ['Ин.яз', '212', 'Орехова И.В.']]],
         [[['Ин.яз', '212', 'Орехова И.В.'], ['Ин.яз', '212', 'Орехова И.В.']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '831': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[' - ', ' - ', ' - '], ['Инф-ка', '119', 'Ледрова М.В.']],
         [[' - ', ' - ', ' - '], ['Инф-ка', '119', 'Ледрова М.В.']],
         [['Инф-ка', '119', 'Ледрова М.В.'], [' - ', ' - ', ' - ']],
         [['Инф-ка', '119', 'Ледрова М.В.'], [' - ', ' - ', ' - ']]],
 '921': [[[['Обществознание', '301-2к', 'Сиволапова И.Г.'],
           ['Обществознание', '301-2к', 'Сиволапова И.Г.']]],
         [[['Обществознание', '301-2к', 'Сиволапова И.Г.'],
           ['Обществознание', '301-2к', 'Сиволапова И.Г.']]],
         [[['МДК.03.01', ' - ', 'Лысова Е.В.'],
           ['МДК.03.01', ' - ', 'Лысова Е.В.']]],
         [[['МДК.03.01', ' - ', 'Лысова Е.В.'],
           ['МДК.03.01', ' - ', 'Лысова Е.В.']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '922': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '931': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[['МДК.01.01', '410', 'Телегина И.Г.'],
           ['МДК.01.01', '410', 'Телегина И.Г.']]],
         [[['Биология', '400', 'Морунова С.С.'],
           ['Биология', '400', 'Морунова С.С.']]],
         [[['Биология', '400', 'Морунова С.С.'],
           ['Биология', '400', 'Морунова С.С.']]],
         [['Физ-ра', '100', 'Смольянинов Ю.М.'],
          ['Физ-ра', '100/4', 'Панов В.А.']],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '932': [[[['Безопасность жизнедеятельности', '207-2к', 'Степура В.Ф.'],
           ['Безопасность жизнедеятельности', '207-2к', 'Степура В.Ф.']]],
         [[['Безопасность жизнедеятельности', '207-2к', 'Степура В.Ф.'],
           ['Безопасность жизнедеятельности', '207-2к', 'Степура В.Ф.']]],
         [[['Безопасность жизнедеятельности', '207-2к', 'Степура В.Ф.'],
           ['Безопасность жизнедеятельности', '207-2к', 'Степура В.Ф.']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '941': [[[' - ', ' - ', ' - '], ['Физ-ра', '100/4', 'Панов В.А.']],
         [[['Химия', '402', 'Суханова Л.А.'],
           ['Химия', '402', 'Суханова Л.А.']]],
         [[['История', '200', 'Сидоров А.Н.'],
           ['История', '200', 'Сидоров А.Н.']]],
         [[['Русс.яз', '304', 'Миронова Ю.И.'],
           ['Русс.яз', '304', 'Миронова Ю.И.']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '942': [[[['Инф-ка', '215', 'Кузнецова Н.А.'],
           ['Инф-ка', '215', 'Кузнецова Н.А.']]],
         [['Физ-ра', '100/4', 'Панов В.А.'],
          ['Физ-ра', '100/1', 'Стругов К.А.']],
         [[['Физика', '312', 'Евстратова З.А.'],
           ['Физика', '312', 'Евстратова З.А.']]],
         [[['Химия', '402', 'Суханова Л.А.'],
           ['Химия', '402', 'Суханова Л.А.']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]],
 '943': [[[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]],
         [[['Химия', '402', 'Суханова Л.А.'], ['Химия', '402', 'Суханова Л.А.']]],
         [[['Физика', '312', 'Евстратова З.А.'], ['Физика', '312', 'Евстратова З.А.']]],
         [[' - ', ' - ', ' - '], ['Физ-ра', '100/1', 'Стругов К.А.']],
         [[[' - ', ' - ', ' - '], [' - ', ' - ', ' - ']]]]}



router = Router()


@router.message(CommandStart())
async def process_start_command(message: Message):
    await message.answer(
            text="Войди в аккаунт или пройди небольшую регистрацию",
            reply_markup=create_inline_kb(1,
                                        log_button='Вход')
            )


@router.callback_query(F.data == 'log_button')
async def log(callback: CallbackQuery):
    user = await User.user_info(callback.from_user.id)
    
    if not user:
        await User.add(id=callback.from_user.id,
                       name=callback.from_user.username,
                       user_name=callback.from_user.first_name,
                       date_of_registration=date.today())

        await callback.message.edit_text(
            text='Выбери свою группу и подгруппу',
            reply_markup=create_inline_kb(6,
                                          **group_to_group_gict))
        
    elif not user.subgroup:
        await callback.message.edit_text(
            text='Выбери свою группу и подгруппу',
            reply_markup=create_inline_kb(6,
                                          **group_to_group_gict))

    else:
        await callback.message.edit_text(
            text=f'•{" "*40}•',
            reply_markup=create_inline_kb(2,
                                          today_lessons='пары',
                                          settings='меню',
                                          fast_success='быстрый доступ'))
    await callback.answer()
    




@router.callback_query(F.data.in_(group_to_group_gict))
async def add_group(callback: CallbackQuery):
    id = callback.from_user.id
    user = await User.user_info(id)
    await User.update_user(id, group=int(callback.data))
    
    if user.subgroup == None:
        await callback.message.edit_text(
            text='Выберите свою подгруппу',
            reply_markup=create_inline_kb(2,
                                          subgroup_1='1',
                                          subgroup_2='2',
                                          log_button='Назад')
        )
    await callback.answer()
    
    
@router.callback_query(F.data == 'fast_success')
async def add_group(callback: CallbackQuery):
    ret = {}
    for key, val in test.items():
        ret[key] = []
        for i in val: 
            if len(i) == 1:
                i = i[0]
            ret[key].append(i)
            
            # ret[key].append(i[0])
    await Lesson.add(day=date.today(),
            lessons=ret)
    

@router.callback_query(F.data.in_(['subgroup_1', 'subgroup_2']))
async def add_subgroup(callback: CallbackQuery):
    id = callback.from_user.id
    await User.update_user(id, subgroup=int(callback.data[-1]))
    
    await callback.message.edit_text(
            text=f'•{" "*40}•',
            reply_markup=create_inline_kb(2,
                                          today_lessons='пары',
                                          settings='меню',
                                          fast_success='быстрый доступ'))
    await callback.answer()